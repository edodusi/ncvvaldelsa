#!/usr/bin/env bash
set -e
QUOTEDCMD=()
for token in "$@"; do
  QUOTEDCMD+=($(printf "%q" "$token"))
done
CMD="${QUOTEDCMD[*]}"
if [ -z "$CMD" ]
then
  CMD="bash"
fi
CONTAINER_NAME=$(docker-compose ps | grep "web_1" | awk '{ print $1 }')
if [ ! -z "${CONTAINER_NAME}" ]
then
  docker exec -it "${CONTAINER_NAME}" env TERM=xterm /bin/bash -c "${CMD}"
else
  echo "docker application not found."
  exit 1
fi
